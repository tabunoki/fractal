問合せシステム
===============================================================================
・回答を交互にするメリット
	⇒やり取りの厳密性、ボール保持者の明確化という効果が見込まれる



開発工程と成果物
-------------------------------------------------------------------------------

開発工程と各工程における成果物を以下に定義する。

### 要件定義
- 運用フロー
- 運用ルール
- 運用機能一覧

### 方式選定（要件定義と並行）
-

### 外部設計
- 画面一覧
- 画面遷移図（シナリオ別）
- 画面機能設計
- テーブル定義
- メール定義

### 環境構築（外部設計と並行）
- 開発環境構築手順書（インストール、設定、使用方法）
- 運用環境構築手順書
- 開発環境（統合開発環境、Webサーバ、データベース、バージョン管理など）
- 運用環境（実作業はリリース時に行う）

### 内部設計
- RDoc（試験終了時に自動生成）

### 製造
- DDL
- ソースコード

### 単体試験
- 単体試験仕様書

### 結合試験
- 結合試験仕様書
- エビデンス

### 総合試験
- 総合試験仕様書
- エビデンス

### リリース
- 問合せシステム運用環境


ドキュメント、及びドキュメントに仕様する図は、それぞれ以下の形式に定める。

* ドキュメント : HTML 形式
* 図 : SVG 形式
* 写真やイラスト : PNG 形式

HTML や SVG を使用することで、従来、バージョン管理しても、
差異を取ることが出来なかったバイナリファイルを、
テキストファイル化することが出来る


使用技術
-------------------------------------------------------------------------------

### 開発言語
* Ruby
* HTML 5
* CSS 3
* Javascript

### ウェブサーバー
* Apache

### データベース
* MySQL

### ウェブアプリケーションフレームワーク
* Ramaze

### ORM
* Sequel

### テンプレートエンジン
* Slim 3



画面と主要機能
-------------------------------------------------------------------------------

### ログイン画面 (/login)
- ログイン
工数：1pt


### スレッド一覧画面 (/)
- ナビゲーションの表示
- スレッド一覧の表示
- スレッド詳細画面への遷移
- スレッド作成画面への遷移
- ユーザー管理画面への遷移
- システム管理画面への遷移
工数：1pt


### スレッド作成画面 (/create/1234)
- スレッド作成フォームの表示
- スレッド一覧画面への遷移
- 新規スレッドの作成
- 新規スレッドの作成時にメールを送信
工数：2pt


### スレッド詳細画面 (/detail/1234)
- スレッド一覧画面への遷移
- スレッドの表示
- リプライの表示
- 「削除／編集」ボタンの表示（条件あり）
工数：1pt

- スレッドの編集（作成者が自ユーザーで、かつステータスが起票の場合に限る）
- スレッドの編集時にメールを送信
- スレッドの削除（作成者が自ユーザーで、かつステータスが起票の場合に限る）
- スレッドの削除時にメールを送信
工数：3pt

- リプライの投稿
- リプライの投稿時にメールを送信
- リプライの編集（最新のリプライで、かつ投稿者が自ユーザーの場合に限る）
- リプライの編集時にメールを送信
- リプライの削除（最新のリプライで、かつ投稿者が自ユーザーの場合に限る）
- リプライの削除時にメールを送信
工数：5pt


### ユーザー管理画面 (/admin/user)
- パスワードの変更
工数：1pt


### システム管理画面 (/admin/system)
- ユーザーの作成
- ユーザーの削除（起票もリプライもしていないユーザーに限る）
- ユーザーの有効化
- ユーザーの無効化
工数：2pt



ステータス（スレッドの状態管理）
-------------------------------------------------------------------------------

- 起票（顧客側がスレッドを作成すると自動的に起票となる）
- 回答済み（開発側がリプライしたスレッド）
- 回答待ち（顧客側がリプライしたスレッド）
- 完了（顧客側はリプライ時にステータスを完了にしたスレッド）
- 周知（リプライできないスレッド。開発側がスレッドを作成すると自動的に周知となる）



ロール
-------------------------------------------------------------------------------

- 管理（全ての機能を利用できるロール）
- 開発
- 顧客



テーブル
-------------------------------------------------------------------------------

### USER
- ID
- NAME
- PASSWORD
- ROLE_ID

### ROLE
- ID
- NAME

### THREAD
- ID
- SUBJECT
- BODY
- DEADLINE
- USER_ID
- STATUS_ID
- CREATE_DATETIME
- UPDATE_DATETIME

### REPLY
- ID
- SUBJECT
- BODY
- USER_ID
- THREAD_ID
- CREATE_DATETIME
- UPDATE_DATETIME


### STATUS
- ID
- NAME


依存関係
-------------------------------------------------------------------------------
* fractal
    + ramaze
        - innate
        - rack
    + mysql2
    + sequel